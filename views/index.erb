<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sinatra Live !!!!</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>


  <style>
  body { background-color: linen;}

   canvas { background:#fff; border:1px solid #ccc; } */
  </style>

</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

  <!-- Add your site or application content here -->
  <p>Hello world! This is HTML5 Boilerplate.</p>
  <input type="button" value="Add Data" onclick="adddata()">


  <div id="chart_div"></div>

  <script>
  // Load the Visualization API and the corechart package.
        google.charts.load('current', {'packages':['corechart']});

        // Set a callback to run when the Google Visualization API is loaded.
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
     // Create the data table.
     var dataTable = new google.visualization.DataTable();
     dataTable.addColumn('datetime', 'Time');
     dataTable.addColumn('number', 'Mg');
     dataTable.addColumn('number', 'upper');
     dataTable.addColumn('number', 'lower');

     dataTable.addRows([
        [moment('2018-07-06 14:02:00').toDate(), 21.40, 24, 20],
        [moment('2018-07-06 14:02:02').toDate(), 21.39, null, null],
        [moment('2018-07-06 14:02:04').toDate(), 21.20, null, null],
        [moment('2018-07-06 14:02:06').toDate(), 21.22, null, null],
        [moment('2018-07-06 14:02:08').toDate(), 20.99, null, null],
        [moment('2018-07-06 14:02:10').toDate(), 21.03, null, null],
        [moment('2018-07-06 14:02:12').toDate(), 21.05, null, null],
        [moment('2018-07-06 14:02:14').toDate(), 21.07, null, null],
        [moment('2018-07-06 14:02:16').toDate(), 21.10, null, null],
        [moment('2018-07-06 14:02:18').toDate(), 21.08, null, null],
        [moment('2018-07-06 14:02:20').toDate(), 21.05, null, null],
        [moment('2018-07-06 14:02:22').toDate(), 21.00, null, null],
        [moment('2018-07-06 14:02:24').toDate(), 21.15, null, null],
        [moment('2018-07-06 14:02:26').toDate(), 21.17, null, null],
        [moment('2018-07-06 14:02:28').toDate(), 21.25, null, null],
        [moment('2018-07-06 14:02:30').toDate(), 21.32, null, null],
        [moment('2018-07-06 14:02:32').toDate(), 21.35, null, null],
        [moment('2018-07-06 14:02:34').toDate(), 21.37, 24, 20]
     ]);

     var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));

     var options = {
        title:   'Nozzle 1',
        height:  600,
        seriesType: 'scatter',
        interpolateNulls: true,
        series: {
          1: {
            type: 'line',
          },
          2: {
            type: 'line'
          }
        },
        hAxis: {
          slantedText: true,
          slantedTextAngle: 90,
          format: 'HH:mm:ss',
          //gridlines: {count: 15}
          viewWindowMode:'explicit',
          viewWindow: {
            min: moment('2018-07-06 14:02:00').toDate(),
            max: moment('2018-07-06 14:02:00').add(2, 'minutes').toDate()

          }
          },
          vAxis: {
            viewWindowMode:'explicit',
            viewWindow: {
              min: 18,
              max: 26
            }
          },
            legend: 'none',
            trendlines: { 0: {} }
        };
      //  width    : 1400,
      //  pointSize: 5,
        //vAxis: { title: 'Mg', maxValue: 21.50, minValue: 20.50 },
      //  hAxis: { title: 'Time of day (Hours:Minutes)', format: 'HH:mm', gridlines: {count:9} }
     //};

     var formatNumber = new google.visualization.NumberFormat(
        {prefix: '', negativeColor: 'red', negativeParens: true});

     var formatDate = new google.visualization.DateFormat(
        { prefix: 'Time: ', pattern: "dd MMM HH:mm", });

     formatDate.format(dataTable, 0);
     formatNumber.format(dataTable, 1);

     chart.draw(dataTable, options);
  }  // drawChart
  </script>


</body>

</html>
