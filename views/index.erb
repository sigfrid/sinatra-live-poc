<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sinatra Live !!!!</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>

  <style>
  body { background-color: linen;}

   canvas { background:#fff; border:1px solid #ccc; } */
  </style>

</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

  <!-- Add your site or application content here -->
  <p>Hello world! This is HTML5 Boilerplate.</p>
  <input type="button" value="Add Data" onclick="adddata()">


  <canvas id="mixed-chart" height="120"></canvas>

  <script>
    var canvas = document.getElementById("mixed-chart");
    var options = {
      type: 'line',
      data: {
        datasets: [{
            borderColor: "#8e5ea2",
            fill: false
          }, {
            borderColor: "#3e95cd",
            fill: false
          }, {
            pointBackgroundColor: "#3e92cd",
            pointBorderColor: "#3e92cd",
            fill: false,
            showLine: false
          }
        ]
      },
      options: {
        scales: {
              xAxes: [{
                  type: 'time',
                  time: {
                     unit: 'second',
                     stepSize: 2,
                     displayFormats: { 'second': 'h:mm:ss'}
                  },
                  ticks: {
                    minRotation: 90,
                    min: moment().format(),
                    max: moment().add(2, 'hour').format()
                  },
                  distribution: 'linear'
              }],
              yAxes: [{
               display: true,
               ticks: {
                   //beginAtZero: true,
                   //steps: 10,
                   stepValue: 5,
                   min: 0,
                   max: 100
               }
              }]
          },
        legend: {
          display: false
        },
        responsive: true,
      }
  };

  var myChart = new Chart(canvas, options);





function adddata(){
  myChart.data.labels.push(moment().format());
  myChart.data.datasets.forEach((dataset) => {
    dataset.data.push(Math.floor(Math.random() * 60) + 1);
  });
  myChart.update();
}


  </script>


</body>

</html>
